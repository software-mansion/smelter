name: Bash - shellcheck
on:
    workflow_dispatch: {}
    push:
        branches: [master]
        paths:
            - tools/release.sh
            - tools/src/bin/package_for_release/*.sh
            - .github/workflows/shellcheck.yml
    pull_request:
        types: [opened, synchronize]
        paths:
            - tools/release.sh
            - tools/src/bin/package_for_release/*.sh
            - .github/workflows/shellcheck.yml

concurrency:
    group: ${{ github.workflow }}-${{ github.ref }}
    cancel-in-progress: ${{ github.ref != 'refs/heads/master' }}

jobs:
    dockerfile:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout
              uses: actions/checkout@v4

            - name: shellcheck
              run: |
                shellcheck ./tools/release.sh ./tools/src/bin/package_for_release/*.sh
